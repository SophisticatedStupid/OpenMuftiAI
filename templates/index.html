<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mufti AI Chat</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style> body { padding: 2rem; } .chat-box { max-width: 600px; margin: auto; } </style>
</head>
<body>
<div class="chat-box">
  <h2 class="text-center mb-4">ðŸ•Œ Mufti AI Chat</h2>
  <div id="chat" class="mb-3" style="min-height: 300px; border: 1px solid #ccc; padding: 1rem; overflow-y: auto;"></div>
  <input type="text" id="userInput" class="form-control" placeholder="Ask something...">
  <button class="btn btn-primary mt-2" onclick="sendMessage()">Send</button>
</div>

<script>
async function sendMessage() {
    const input = document.getElementById('userInput');
    const chat = document.getElementById('chat');
    const message = input.value;
    if (!message) return;
    
    chat.innerHTML += `<div><b>You:</b> ${message}</div>`;
    input.value = '';

    const res = await fetch('/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
    });
    const data = await res.json();
    chat.innerHTML += `<div><b>Mufti AI:</b> ${data.reply}</div>`;
    chat.scrollTop = chat.scrollHeight;
}
</script>
</body>
</html>
